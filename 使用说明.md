# 自动开发服务器启动工具 - GUI 版本使用说明

## 安装方法

### 方式一：使用安装程序（推荐）
1. 双击运行 `自动开发服务器启动工具 Setup 1.0.0.exe`
2. 按照安装向导完成安装
3. 安装完成后，从桌面快捷方式或开始菜单启动应用

### 方式二：使用便携版本
直接运行：
```
auto-dev-launcher-gui\release\win-unpacked\自动开发服务器启动工具.exe
```
无需安装，可以将整个 `win-unpacked` 文件夹复制到任何位置使用。

## 快速开始

### 1. 添加项目
1. 点击界面上的 **"📁 选择项目文件夹"** 按钮
2. 在弹出的文件夹选择器中，选择包含 `package.json` 的项目文件夹
3. 项目会自动添加到左侧的项目列表中
4. **无需手动安装依赖**，应用会在启动时自动检测并安装

### 2. 启动服务器
1. 在左侧项目列表中点击要启动的项目
2. 点击 **"▶️ 启动"** 按钮
3. 如果缺少 `node_modules`，应用会自动安装依赖
4. 右侧会实时显示依赖安装进度和服务器输出日志
5. 项目状态会显示为 **"运行中"**（绿色）

### 3. 停止服务器
1. 选中正在运行的项目
2. 点击 **"⏹️ 停止"** 按钮
3. 服务器进程会被终止

### 4. 删除项目
1. 点击项目的 **"🗑️ 删除"** 按钮
2. 如果项目正在运行，会自动先停止服务器
3. 项目从历史记录中移除（不会删除文件）

在项目根目录创建 `dev-config.json` 文件：

```json
{
  "name": "我的项目",
  "projects": [
    {
      "name": "前端",
      "path": "./frontend",
      "packageManager": "npm",
      "startCommand": "dev"
    },
    {
      "name": "后端",
      "path": "./backend",
      "packageManager": "npm",
      "startCommand": "start"
    }
  ]
}
```

## 配置文件格式
- `name`: 项目组名称
- `projects`: 子项目数组
  - `name`: 子项目名称
  - `path`: 子项目相对路径
  - `packageManager`: 包管理器（npm/yarn/pnpm）
  - `startCommand`: 启动命令（对应 package.json 中的 scripts）

### 配置说明

## 功能说明

### 自动依赖安装 🆕
- 启动项目前自动检查 `node_modules` 目录
- 如果不存在，自动检测包管理器并安装依赖
- 支持 pnpm、yarn、npm
- 实时显示安装进度
- 安装完成后自动启动项目

**包管理器检测规则**：
1. 检测到 `pnpm-lock.yaml` → 使用 pnpm
2. 检测到 `yarn.lock` → 使用 yarn
3. 检测到 `package-lock.json` → 使用 npm
4. 默认使用 npm

### 智能进程管理 🆕
- **删除项目时**：自动停止正在运行的服务器
- **关闭程序时**：自动停止所有运行中的服务器
- 避免留下孤立进程和端口占用

### 项目状态
- 🔵 **未启动** - 项目尚未启动
- 🟡 **启动中** - 正在启动服务器
- 🟢 **运行中** - 服务器正在运行
- ⚫ **已停止** - 服务器已停止
- 🔴 **错误** - 启动失败或运行出错

### 操作按钮
- **📁 选择项目文件夹** - 添加新项目
- **▶️ 启动** - 启动选中的项目
- **⏹️ 停止** - 停止选中的项目
- **📂 打开** - 在文件管理器中打开项目文件夹
- **🗑️ 删除** - 从历史记录中删除项目（不会删除文件）

### 日志显示
- 右侧面板实时显示服务器输出
- 自动滚动到最新日志
- 最多显示 100 行日志

## 功能说明

### Q: 项目没有 node_modules，可以直接启动吗？
A: 可以！应用会自动检测并安装依赖：
1. 检测项目使用的包管理器（pnpm/yarn/npm）
2. 自动执行 install 命令
3. 实时显示安装进度
4. 安装完成后自动启动项目

### Q: 为什么点击启动没有反应？
A: 请检查：
1. 项目文件夹中是否存在 `dev-config.json` 文件
2. 配置文件格式是否正确
3. 项目路径是否存在
4. 是否安装了对应的包管理器（npm/yarn/pnpm）

### Q: 如何查看完整的错误信息？
A: 错误信息会显示在右侧的日志面板中，包括详细的错误堆栈。

### Q: 可以同时启动多个项目吗？
A: 可以！每个项目都是独立的进程，可以同时运行多个项目。

### Q: 关闭应用后，服务器会自动停止吗？
A: 会的。应用关闭时会自动停止所有正在运行的服务器进程，确保不会留下后台进程占用端口。

### Q: 删除项目时会停止服务器吗？
A: 会的。删除项目前会自动检查并停止正在运行的服务器，避免留下孤立进程。

### Q: 项目历史记录保存在哪里？
A: 保存在用户数据目录中：
```
C:\Users\你的用户名\AppData\Roaming\auto-dev-launcher-gui\
```

## 技术支持

如有问题，请查看：
- `README.md` - 项目说明
- `GUI_PROJECT_SUMMARY.md` - 项目总结
- `CONFIG_EXAMPLES.md` - 配置示例

## 版本信息

- **版本**: 1.0.1
- **技术栈**: Electron + React + TypeScript
- **支持平台**: Windows
- **安装程序大小**: 92.51 MB
- **便携版本大小**: 203.69 MB

## 文件说明

### 安装程序
- `自动开发服务器启动工具 Setup 1.0.0.exe` - NSIS 安装程序

### 便携版本
- `release/win-unpacked/自动开发服务器启动工具.exe` - 主程序
- `release/win-unpacked/` - 包含所有运行时文件
